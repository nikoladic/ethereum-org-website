@require './fonts'
@require './config'
@require './utils'

*
  font-variant-ligatures none

body, html
  padding 0
  margin 0
  overflow-x hidden

body
  font-family $defaultFont, -apple-system, "Helvetica Neue", sans-serif
  -webkit-font-smoothing antialiased
  -moz-osx-font-smoothing grayscale
  font-size $fsRegular
  line-height $lhRegular
  color $textColor

h1
  font-size $fsLarge
  font-weight 400
  margin-bottom 2em

  a
    display none

h2
  font-size $fsRegular
  font-weight 400
  padding-top 4em
  margin-top -1em
  margin-bottom 0
  line-height 1.2
  border-bottom 1px solid $textColor
  display inline-block

h3, h4, h5, h6
  font-size $fsSmall
  margin-bottom 0
  margin-top 2em

  a.header-anchor
    display none

  &+ul
    margin-top 0

  em
    font-weight 400

a
  text-decoration none
  color $accentColor

  &+em
    font-style normal
    opacity 0.5

  .icon.outbound
    display none

.pointer
  cursor pointer

button
  font-size $fsXSmall
  background white
  border 1px dotted $textColor
  border-radius 18px
  padding 0.6em 2.5em

  &:hover
    border-color $accentColor
    color $accentColor

.content-block
  max-width 996px
  margin 0 auto
  padding 0 2em

.accent
  color $accentColor

ol
  padding-left 1.1em

  &:before
    padding-right 1em

  li
    padding-left 0.5em

ul
  padding 0
  margin 1em
  list-style-image url(../images/dash.svg)

  li
    padding-left 0.5em

  &.inline, &.nav-ul
    li
      padding 0
      display inline-block

  &.featured
    font-size $fsRegular
    line-height $lhRegular
    margin 0
    border-left 1px dotted $accentColor
    padding-left 1em
    margin-left -1em

    li
      list-style-image none
      list-style none
      margin-bottom 1em
      padding 0

      em
        display block
        font-size $fsSmall

div.intro-blocks
  margin-top 4em
  display flex
  flex-wrap wrap

  ul
    display inline-block
    line-height $lhMedium
    margin 0
    margin-bottom 2em
    width 49%

    li
      &:first-child
        margin-bottom 1em
        list-style-image none
        list-style none
        padding 0
        text-indent -1em

      &.highlight
        background url(../images/highlight.svg)
        background-repeat no-repeat

.header-anchor
  opacity 0.15
  margin-left -1.33em

  &:hover
    opacity 1

.featured
  font-size $fsRegular
  line-height $lhMedium
  margin 0
  border-left 1px dotted $accentColor
  padding-left 1em
  margin-left -1em

.page
  font-size $fsSmall
  line-height $lhLarge
  max-width $contentWidth
  margin-left 10em
  padding-top 9em

  p
    margin-bottom 2em

    &+ul, &+ol
      margin-top -1em

  ol+p, ul+p
    margin-top 3em

  iframe
    filter grayscale(1)
    opacity 0.8
    width 100%

    &:hover
      filter grayscale(0)
      opacity 1

.iframe-container
  position relative
  overflow hidden
  padding-top 56.25%

  iframe
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    border 0

p+.iframe-container
  margin-top -1em

span.arrow
  margin-right 0.75em

table
  th
    text-align left
  td
    padding-right 2em

/* Dark Mode */
.show-dark
  display none !important

#wrapper.dark-mode
  background $bgDark
  color $textColorDark
  .show-dark
    display block !important
  .hide-dark
    display none !important
  a, .accent
    color $accentColorDark
  button
    border-color $textColorDark
    color $textColorDark
    background $bgDark
  h2
    border-bottom 1px solid $textColorDark
  header
    background $bgDark
  .search-box
    input
      border-color $textColorDark
      color $textColorDark
      background-color $bgDark
      background-image url(../images/icon-search-white.svg)
  ul
    list-style-image url(../images/dash-white.svg)
    li.highlight
      background-image url(../images/highlight-dark.svg)
  .suggestions
    border-color $textColorDark
    background-color $bgDark
    .suggestion
      a
        color $textColorDark
      &.focused
        background-color lighten($bgDark, 5%)
        a
          color $accentColorDark
  .sidebar-button
    svg
      stroke $textColorDark
  .sidebar
    background $bgDark
    border-color $accentColorDark
    ul
      list-style-image none
  nav.nav-links, ul.sidebar-links
    a
      color $subduedColor
      &.router-link-active, &.active
        color $accentColorDark
  .featured
    border-color $accentColorDark
  a.header-anchor
    color $textColorDark
  footer.footer a
    color $subduedColor
    opacity 0.5
    &:hover
      color $accentColorDark
      opacity 1

/* Responsive Adjustments */
#wrapper
  &:not(.has-sidebar):not(.sidebar-open)
    .sidebar
      display none

@media screen and (min-width $breakL)
  .lg-up-hide
    display none !important

@media screen and (min-width $breakM)
  .md-up-hide
    display none !important

@media screen and (max-width $breakL)
  #wrapper
    &:not(.has-sidebar):not(.sidebar-open)
      .sidebar
        display none

    &.has-sidebar
      div.page
        max-width "calc(100vw - %s - 15em)" % $sidebarWidth

  footer.footer
    padding-left 2.75em

@media screen and (max-width $breakM)
  .md-hide
    display none !important

  .page
    padding-top 6em

  #wrapper.dark-mode.sidebar-open
    header
      border-bottom 1px dotted $accentColorDark

  #wrapper:not(.has-sidebar)
    div.page, footer.footer
      margin-left auto
      margin-right auto
      max-width 85vw

    footer.footer
      padding-left 0
      padding-right 0

  #wrapper.has-sidebar
    div.page
      margin-left 2.75em
      max-width "calc(100vw - %s - 8em)" % $sidebarWidth

  footer.footer
    padding-bottom 8em

    ul
      li
        padding 0
        display block

  .search-box
    margin-right 0.5em

@media screen and (max-width $breakS)
  .sm-hide
    display none !important

  #wrapper.has-sidebar
    div.page, footer.footer
      margin-left auto
      margin-right auto
      max-width 85vw

  .iframe-container
    iframe
      filter grayscale(0)
      opacity 1

  div.intro-blocks
    ul
      width calc(100vw - 4em)
      padding 0 1.4em

@media screen and (max-width $breakXs)
  .xs-hide
    display none !important

  button.announcement
    left 2em
    right 2em
    width calc(100vw - 4em)

@media screen and (max-width $breakXXS)
  body
    font-size 16px

  .content-block
    padding 0 1em

  button.announcement
    right 1em !important
    left 1em !important
